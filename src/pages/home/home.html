<!--
  Generated template for the HomePage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header no-border>

  <ion-navbar color="white">
    <ion-title>TV猫代理后台</ion-title>
  </ion-navbar>

</ion-header>


<ion-content>
  <div class="heading" *ngIf="agent">
    <ion-item>
      <ion-avatar item-left>
        <img src="assets/imgs/default_avatar.png" />
      </ion-avatar>
      <h2 class="name">{{agent.name}}</h2>
      <p><span class="level">{{agent.level_name}}</span></p>
      <ion-note item-right>
        <button ion-button small (click)="logout();">退出登录</button>
      </ion-note>
    </ion-item>
    
    <ion-row>
      <ion-col col-4>
        <div class="stat-box">
          <h2>¥ {{agent.today_earn}}</h2>
          <p>今日收入</p>
        </div>
      </ion-col>
      <ion-col col-4>
          <div class="stat-box">
            <h2>{{agent.earn}}</h2>
            <p>总收入</p>
          </div>
        </ion-col>
        <ion-col col-4>
          <div class="stat-box">
            <h2>{{agent.total_user_cards}}</h2>
            <p>已卖出会员</p>
          </div>
        </ion-col>
      </ion-row>
  </div>

  <div class="sections">
    <ion-list>
      <button ion-item (click)="sendCards();">
        <ion-icon name="icon-send-card" item-left></ion-icon>
        发卡
        <ion-note item-right>
          支持多人发卡
        </ion-note>
      </button>
      <button ion-item (click)="openEarn();">
        <ion-icon name="icon-earn" item-left></ion-icon>
        佣金收入
        <ion-note item-right>
          ¥ {{agent && agent.earn}}
        </ion-note>
      </button>
      <button ion-item (click)="openAgents();">
        <ion-icon name="icon-multi-users" item-left></ion-icon>
        下级分销商
        <ion-note item-right>
            {{agent && (agent.child_count || 0)}}
        </ion-note>
      </button>

      <button ion-item (click)="openOrders();">
        <ion-icon name="icon-order" item-left></ion-icon>
        会员套餐
        <ion-note item-right>
          {{agent && agent.total_orders}}
        </ion-note>
      </button>

    </ion-list>
    <ion-list>
        <button ion-item (click)="download();">
          <ion-icon name="ios-download-outline" style="color: #F6A623;" item-left></ion-icon>
          APP下载
        </button>
        <button ion-item (click)="iosHelp();">
          <ion-icon name="ios-help-circle-outline" style="color: #BD0FE1;font-size: 22px;" item-left></ion-icon>
          苹果安装教程
        </button>
    </ion-list>
  </div>

</ion-content>
